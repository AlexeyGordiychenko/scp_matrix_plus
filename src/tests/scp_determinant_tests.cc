#include "scp_matrix_oop_tests.h"

TEST(Determinant, 1) {
  SCPMatrix m1({2, 2, -7031.7137539574305, -603774689.5740736,
                3559193939.8238726, 0.08583191832999804});

  EXPECT_EQ(m1.Determinant(), 2.148951216151082E+18);
}

TEST(Determinant, 2) {
  SCPMatrix m1({1, 1, -672.8542607492762});

  EXPECT_EQ(m1.Determinant(), -672.8542607492762);
}

TEST(Determinant, 3) {
  SCPMatrix m1({6,
                6,
                1402944.8660032419,
                -0.482446931530635,
                -0.9438387528239335,
                -38.66572527684093,
                0.1638877828610461,
                697346.5225909891,
                -2574227741.527294,
                -0.9758160149463905,
                -0.3050783184625606,
                6.5329916505322565,
                -0.5808373817294075,
                -0.7009066900969906,
                0.19406786434778456,
                -85.40115595628268,
                0.5729382924789209,
                -438.51165479367927,
                -2867.936490656483,
                560.1016273967141,
                3927376217.5830107,
                -9.544754803144137,
                5232100.398953006,
                8263619488.04819,
                -3147247.363113871,
                3903221054.9169455,
                2594493802.775063,
                -780201.6586591512,
                -26.189474711171012,
                3200.0676947786665,
                83928694.53746721,
                -15367889.25004684,
                -0.9778178660502007,
                3255.7689709503256,
                12792483.375561047,
                4.07624050429654,
                33260.17463639407,
                0.35691954607550513});

  EXPECT_EQ(m1.Determinant(), -1.7848656579628336E+42);
}

TEST(Determinant, 4) {
  SCPMatrix m1({7,
                8,
                -0.14530726963050566,
                78689040.53505997,
                -4.680716791963034,
                -36.5111075786281,
                0.02522509755839053,
                3.6538672250400603,
                -7615476772.142778,
                17296.462528545177,
                8.558123508186943,
                461944.2322052971,
                523581007.2629428,
                84215.52277093366,
                0.13855849552307764,
                2.920523024197043,
                -0.17341428197855357,
                -782490.9419045146,
                279978012.3888973,
                5.388928470521542,
                -5219798.330424454,
                1709353.3806320727,
                9253804524.221386,
                -2430566.910965497,
                -3117327.8744204533,
                0.7651364471739248,
                -9461.797953427442,
                -5195749.366770066,
                325.49634466986186,
                -87.86121880947461,
                -0.45070987537893936,
                -844825.5696452796,
                -831.0938607096296,
                780.2631582112917,
                7015.538203895918,
                5327284.699362898,
                -7.09139721273565,
                -44643486.98272141,
                763462668.896131,
                880618.3335851047,
                0.9281321775972157,
                6008478.1854044935,
                4.349435204304575,
                0.9721601644047227,
                -796794.4557261774,
                -9034020.087751051,
                7.731477357685991,
                -70898710.03682107,
                -0.22427972100456972,
                -0.2950229443942547,
                5749820.575947407,
                -0.910520440893984,
                0.45598860999457347,
                -31368163.685603235,
                -26.60558468319042,
                11579722.632992484,
                -365627021.37823653,
                -453552.7663771566});

  EXPECT_THROW(m1.Determinant(), std::invalid_argument);
}

TEST(Determinant, 5) {
  SCPMatrix m1({4, 3, 0.10319838926268188, -178816.17764510983,
                -11311217.907952188, -1937.39658211047, -11272940.306218794,
                -76754145.5099823, -12.70087714107213, -1828.7561922805007,
                68297352.45250608, 159234.09500537167, -3011.082923844033,
                -152.56720888126085});

  EXPECT_THROW(m1.Determinant(), std::invalid_argument);
}

TEST(Determinant, 6) {
  SCPMatrix m1({2, 2, 395112.66923456464, -51176140.06943026, -560924955.809116,
                -0.8554685361262996});

  EXPECT_EQ(m1.Determinant(), -28705974107264308);
}

TEST(Determinant, 7) {
  SCPMatrix m1({2, 2, -12.462421228686793, -4.951680475927182,
                -0.36139170683392996, 269938.9778401493});

  EXPECT_EQ(m1.Determinant(), -3364095.0373813496);
}

TEST(Determinant, 8) {
  SCPMatrix m1({1, 1, -99085197.06478257});

  EXPECT_EQ(m1.Determinant(), -99085197.06478257);
}

TEST(Determinant, 9) {
  SCPMatrix m1({1, 1, 51847.25361707124});

  EXPECT_EQ(m1.Determinant(), 51847.25361707124);
}

TEST(Determinant, 10) {
  SCPMatrix m1({2, 2, 750332.9841843336, 7.882913320419734, -63417085.30901616,
                590168.9345559892});

  EXPECT_EQ(m1.Determinant(), 443323129224.8087);
}

TEST(Determinant, 11) {
  SCPMatrix m1({2, 2, 2, 2, 1, 1});
  EXPECT_EQ(m1.Determinant(), 0);
}